trigger:
  branches:
    include:
    - main
    exclude:
    - releases/*
    - features/*
  paths:
    include:
    - '*' # same as '/' for the repository root
    exclude:
    - 'deploy/*'
    - 'production/*'
    - 'scripts/*'
    - 'terraform/*'
    - 'docs/*' # same as 'docs/'
    - .gitignore

variables:
  tag: '$(Build.BuildId)'

stages:
- stage: 'Build'
  displayName: 'Build'

  jobs:  
  - job: 'Build'
    displayName: 'Build job'
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - template: pipeline-templates/acr-build-push.yaml